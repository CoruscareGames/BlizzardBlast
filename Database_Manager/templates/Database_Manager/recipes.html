{% extends "Database_Manager/base.html" %}

{% block title %}
    Recipes
{% endblock title %}

{% block content %}
  <h1>Blizzard Blast's Recipes</h1>
  
  {% for recipe in recipe %}
    <table class="table"> 
      <thead>
        <th scope="col">{{ recipe.recipe_name }}</td>
      </thead>

      <thead>
          <th scope="col">Ingredient</th>
          {% for recipe_size in recipe_size %}
          {% if recipe_size.recipe_size == 1 %}
            <th scope="col">Small</th>
          {% elif recipe_size.recipe_size == 2 %}
            <th scope="col">Medium</th>
          {% elif recipe_size.recipe_size == 3 %}
            <th scope="col">Large</th>
          {% endif %}
          {% endfor %}
      </thead>

      <tbody>
        {% for servings_ingredients in servings_ingredients %}
          {% if servings_ingredients.recipe_name == recipe %}
            <tr>
              <td>{{ servings_ingredients.ingredient_name.ingredient_name }}</td>

              {% for servings_size in servings_size %}
                {% if servings_size.ingredient_name == servings_ingredients.ingredient_name %}
                  {% if servings_size.recipe_name == servings_ingredients.recipe_name %}
                    <td>{{ servings_size.servings }}</td>
                  {% endif %}
                {% endif %}
              {% endfor %}
              
            </tr>
          {% endif %}
        {% endfor %}
      </tbody>

    </table> 
  {% endfor %}

{% endblock content %}